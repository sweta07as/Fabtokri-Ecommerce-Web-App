(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{215:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return b}));var r=n(7),a=n.n(r),c=n(11),s=n(10),o=n(12),i=n.n(o),u=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.f}),r={headers:{"Content-Type":"application/json"}},t.next=5,i.a.post("/api/v1/order/new",e,r);case 5:c=t.sent,o=c.data,n({type:s.g,payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:s.e,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.m}),e.next=4,i.a.get("/api/v1/orders");case 4:n=e.sent,r=n.data,t({type:s.n,payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.l,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.p}),t.next=4,i.a.get("/api/v1/order/".concat(e));case 4:r=t.sent,c=r.data,n({type:s.q,payload:c.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.o,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.b}),e.next=4,i.a.get("/api/v1/admin/orders");case 4:n=e.sent,r=n.data,t({type:s.c,payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.a,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.s}),c={headers:{"Content-Type":"application/json"}},n.next=5,i.a.put("/api/v1/admin/order/".concat(e),t,c);case 5:o=n.sent,u=o.data,r({type:s.u,payload:u.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:s.r,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.i}),t.next=4,i.a.delete("/api/v1/admin/order/".concat(e));case 4:r=t.sent,c=r.data,n({type:s.k,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.h,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.d});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var r=n(7),a=n.n(r),c=n(11),s=n(63),o=n(12),i=n.n(o),u=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){var o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.get("/api/v1/product/".concat(e));case 2:o=n.sent,u=o.data,r({type:s.a,payload:{product:u.product._id,name:u.product.name,price:u.product.price,image:u.product.images[0].url,stock:u.product.stock,quantity:t}}),"undefined"!==typeof localStorage&&localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.b,payload:e}),"undefined"!==typeof localStorage&&localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.c,payload:e}),"undefined"!==typeof localStorage&&localStorage.setItem("shippingInfo",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return b}));var r=n(7),a=n.n(r),c=n(11),s=n(12),o=n.n(s),i=n(9),u=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.e}),t.next=4,o.a.post("/api/v1/coupons/apply",{couponCode:e});case 4:r=t.sent,c=r.data,n({type:i.f,payload:c}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.d,payload:t.t0.response.data.message}),console.log("Coupon application error:",t.t0.response.data.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.b}),e.next=4,o.a.get("/api/v1/admin/coupons");case 4:n=e.sent,r=n.data,t({type:i.c,payload:r.coupons}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.a,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.i}),t.next=4,o.a.get("/api/v1/coupon/".concat(e));case 4:r=t.sent,c=r.data,n({type:i.j,payload:c.coupon}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.h,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.p}),r={headers:{"Content-Type":"application/json"}},t.next=5,o.a.post("/api/v1/admin/coupon/new",e,r);case 5:c=t.sent,s=c.data,n({type:i.r,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:i.o,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.l}),t.next=4,o.a.delete("/api/v1/admin/coupon/".concat(e));case 4:r=t.sent,c=r.data,n({type:i.n,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.k,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,s,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:i.t}),c={headers:{"Content-Type":"application/json"}},n.next=5,o.a.put("/api/v1/admin/coupon/".concat(e),t,c);case 5:s=n.sent,u=s.data,r({type:i.v,payload:u.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:i.s,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.g});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},261:function(e,t,n){"use strict";var r=n(0),a=n(222),c=n(573),s=n(522),o=n(565),i=n(294),u=n.n(i),p=n(295),d=n.n(p),l=n(296),f=n.n(l),j=(n(262),n(2));t.a=function(e){var t=e.activeStep,n=[{label:Object(j.jsx)(a.a,{children:"Shipping Details"}),icon:Object(j.jsx)(u.a,{})},{label:Object(j.jsx)(a.a,{children:"Confirm Order"}),icon:Object(j.jsx)(d.a,{})},{label:Object(j.jsx)(a.a,{children:"Payment"}),icon:Object(j.jsx)(f.a,{})}];return Object(j.jsx)(r.Fragment,{children:Object(j.jsx)(c.a,{alternativeLabel:!0,activeStep:t,style:{boxSizing:"border-box"},children:n.map((function(e,n){return Object(j.jsx)(s.a,{active:t===n,completed:t>=n,children:Object(j.jsx)(o.a,{style:{color:t>=n?"rgb(128, 0, 57)":"rgba(0, 0, 0, 0.649)"},icon:e.icon,children:e.label})},n)}))})})}},262:function(e,t,n){},264:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),c=n(11),s=n(36),o=n(0),i=n(261),u=n(21),p=n(59),d=(n(264),n(20)),l=n(222),f=n(12),j=n.n(f),b=n(225),h=n(221),v=n(215),x=n(2);t.default=function(){var e=Object(u.c)((function(e){return e.cart})),t=e.shippingInfo,n=e.cartItems,r=Object(u.c)((function(e){return e.user})).user,f=Object(u.b)(),y=n.reduce((function(e,t){return e+t.quantity*t.price}),0),O=y>1e3?0:1,m=Object(o.useState)(""),g=Object(s.a)(m,2),w=g[0],k=g[1],I=Object(o.useState)(null),S=Object(s.a)(I,2),C=S[0],N=S[1],P=Object(o.useState)(0),T=Object(s.a)(P,2),A=T[0],E=T[1],J=Object(u.c)((function(e){return e.applyCoupon})),q=J.success,B=J.coupon,D=J.error,F=O+y-A,Y="".concat(t.address,", ").concat(t.city,", ").concat(t.state,", ").concat(t.pinCode,", ").concat(t.country),L=function(e){k(e.target.value)},_=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(w),e.next=3,f(Object(b.a)(w));case 3:D&&E(0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){q&&E(y*B.coupon.discount/100)}),[q,B,y]);var z=function(){var e=Object(c.a)(a.a.mark((function e(r,c){var s,o,i,u,p,d,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/v1/checkout",{amount:r,userId:c});case 2:s=e.sent,o=s.data,i=o.responseCode,u=o.responseUrl,p=o.transactionId,d={shippingInfo:t,orderItems:n,itemsPrice:y,shippingPrice:O,totalPrice:F,paymentInfo:{id:p,status:"initiated"}},n.forEach((function(e){f(Object(h.b)(e.product))})),f(Object(v.b)(d)),l={transactionId:p},sessionStorage.setItem("orderInfo",JSON.stringify(l)),"PAYMENT_INITIATED"===i&&(window.location.href=u);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(x.jsxs)(o.Fragment,{children:[Object(x.jsx)(p.a,{title:"Confirm Order"}),Object(x.jsx)(i.a,{activeStep:1}),Object(x.jsxs)("div",{className:"confirmOrderPage",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"confirmshippingArea",children:[Object(x.jsx)(l.a,{children:"Shipping Info"}),Object(x.jsxs)("div",{className:"confirmshippingAreaBox",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Name:"}),Object(x.jsx)("span",{children:r.name})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Phone:"}),Object(x.jsx)("span",{children:t.phoneNo})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Email:"}),Object(x.jsx)("span",{children:r.email})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Address:"}),Object(x.jsx)("span",{children:Y})]})]})]}),Object(x.jsxs)("div",{className:"confirmCartItems",children:[Object(x.jsx)(l.a,{children:"Your Cart Items:"}),Object(x.jsx)("div",{className:"confirmCartItemsContainer",children:n&&n.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:e.image,alt:"Product"}),Object(x.jsx)(d.b,{to:"/product/".concat(e.product),children:e.name}),Object(x.jsxs)("span",{children:[e.quantity," X ",e.price," ="," ",Object(x.jsxs)("b",{children:["\u20b9",e.price*e.quantity]})]})]},e.product)}))})]})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"orderSummary",children:[Object(x.jsx)(l.a,{children:"Order Summary"}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Subtotal:"}),Object(x.jsxs)("span",{children:["\u20b9",y]})]}),C&&q&&!D&&Object(x.jsxs)("div",{className:"discountSection",children:[Object(x.jsx)("p",{children:"Discount:"}),Object(x.jsx)("span",{children:C}),Object(x.jsx)("button",{className:"removeButton",onClick:function(){E(0),C&&q&&(N(null),f(Object(b.a)("")))},children:"Remove"}),Object(x.jsxs)("span",{children:["- \u20b9",A]})]}),D&&Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Discount:"}),Object(x.jsxs)("span",{children:["- \u20b9",A]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Shipping Charges:"}),Object(x.jsxs)("span",{children:["\u20b9",O]})]})]}),Object(x.jsxs)("div",{className:"orderSummaryTotal",children:[Object(x.jsx)("p",{children:Object(x.jsx)("b",{children:"Total:"})}),Object(x.jsxs)("span",{children:["\u20b9",F]})]}),!C&&!D&&Object(x.jsxs)("div",{className:"couponInput",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter coupon code",className:"couponInputField",onChange:L}),Object(x.jsx)("button",{className:"applyCouponButton",onClick:_,children:"APPLY"})]}),D&&Object(x.jsxs)("div",{className:"couponInput",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter coupon code",className:"couponInputField",onChange:L}),Object(x.jsx)("button",{className:"applyCouponButton",onClick:_,children:"APPLY"})]}),Object(x.jsx)("button",{onClick:function(){return z(F,r.id)},children:"Proceed To Payment"})]})})]})]})}}}]);
//# sourceMappingURL=15.281abc6c.chunk.js.map